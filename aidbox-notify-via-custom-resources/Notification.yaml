id: TutorNotificationTemplate
resourceType: FHIRSchema
url: "http://example.com/aidbox-sms-tutor/TutorNotificationTemplate"
type: TutorNotificationTemplate
name: TutorNotificationTemplate
base: DomainResource
kind: resource
derivation: specialization
required:
  - template
elements:
  template:
    type: string
    scalar: true

# POST /TutorNotificationTemplate
# id: welcome
# resourceType: TutorNotificationTemplate
# template: |
#   Hello user name: {{patient.name.given}}

---

id: TutorNotification
resourceType: FHIRSchema
url: "http://example.com/aidbox-sms-tutor/TutorNotification"
type: TutorNotification
name: TutorNotification
base: DomainResource
kind: resource
derivation: specialization
required:
  - sendAfter
  - status
  - subject
  - template
  - type
elements:
  type:
    type: string
    scalar: true
    binding:
      valueSet: "http://hl7.org/fhir/ValueSet/contact-point-system"
      strength: required
  status:
    type: string
    scalar: true
    binding:
      # TODO: constrains?
      valueSet: "http://hl7.org/fhir/ValueSet/task-status"
      strength: required
  template:
    type: Reference
    scalar: true
    refers: ["TutorNotificationTemplate"]
  message:
    type: string
    scalar: true
  sendAfter:
    type: dateTime
    scalar: true
  subject:
    type: Reference
    scalar: true
    refers: ["Patient"]







# POST /fhir/TutorNotification

# type: sms
# status: requested
# template:
#   reference: "TutorNotificationTemplate/welcome"
# sendAfter: "2024-07-12T12:00:00Z"
# subject:
#   reference: "Patient/pt-1"

#   GET /fhir/TutorNotification?_count=1&_include=subject


---

resourceType: SearchParameter
id: TutorNotification-status
url: http://example.com/aidbox-sms-tutor/TutorNotification-status
version: 0.0.1
status: draft

name: status
code: status
base:
  - TutorNotification
type: token
description: Search TutorNotification by status
expression: TutorNotification.status

# GET  /fhir/TutorNotification?_count=1&status=requested

---

resourceType: SearchParameter
id: TutorNotification-type
url: http://example.com/aidbox-sms-tutor/TutorNotification-type
version: 0.0.1
status: draft

name: type
code: type
base:
  - TutorNotification
type: token
description: Search TutorNotification by type
expression: TutorNotification.type

# GET  /fhir/TutorNotification?_count=1&type=sms

---

resourceType: SearchParameter
id: TutorNotification-after
url: http://example.com/aidbox-sms-tutor/TutorNotification-after
version: 0.0.1
status: draft

name: after
code: after
base:
  - TutorNotification
type: date
description: Search TutorNotification by sendAfter
expression: TutorNotification.sendAfter

# GET  /fhir/TutorNotification?_count=1&after=gt2024-06-12T12:00:00Z

---

resourceType: SearchParameter
id: TutorNotification-subject
url: http://example.com/aidbox-sms-tutor/TutorNotification-subject
version: 0.0.1
status: draft

name: subject
code: subject
base:
  - TutorNotification
type: reference
description: Search TutorNotification by subject
expression: TutorNotification.subject

# GET  /fhir/TutorNotification?_count=1&after=gt2024-06-12T12:00:00Z

---

resourceType: SearchParameter
id: TutorNotification-template
url: http://example.com/aidbox-sms-tutor/TutorNotification-template
version: 0.0.1
status: draft

name: template
code: template
base:
  - TutorNotification
type: reference
description: Search TutorNotification by template
expression: TutorNotification.template

# GET  /TutorNotification?_count=1&_include=TutorNotification:template:TutorNotificationTemplate



# GET  /fhir/TutorNotification?_count=1&_include=TutorNotification:subject:Patient&_include=TutorNotification:template:TutorNotificationTemplate


# GET  /fhir/TutorNotification?_count=1&type=sms&status=requested&after=gt2024-06-12T12:00:00Z



# extension:
#   - url: http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status
#     valueCode: trial-use
# experimental: true
# date: "2023-03-26T15:21:02+11:00"
# publisher: Health Level Seven International (Patient Administration)
# contact:
#   - telecom:
#       - system: url
#         value: http://hl7.org/fhir
#   - telecom:
#       - system: url
#         value: http://www.hl7.org/Special/committees/pafm/index.cfm
# jurisdiction:
#   - coding:
#       - system: http://unstats.un.org/unsd/methods/m49/m49.htm
#         code: "001"
#         display: World
# processingMode: normal
